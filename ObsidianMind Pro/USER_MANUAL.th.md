# คู่มือผู้ใช้ปลั๊กอิน Obsidian AI

## บทนํา
ยินดีต้อนรับสู่ปลั๊กอิน Obsidian AI! คู่มือนี้จะแนะนําคุณตลอดการติดตั้ง การกําหนดค่า และการใช้งานปลั๊กอิน ช่วยให้คุณปลดล็อกพลังของ AI ภายในห้องนิรภัย Obsidian ของคุณ

## สารบัญ

1. [การติดตั้ง] (#1-การติดตั้ง)
2. [การตั้งค่าและการกําหนดค่าเริ่มต้น] (#2-การตั้งค่าเริ่มต้นและการกําหนดค่า)
    * [การตั้งค่าโมเดล AI](การตั้งค่าโมเดล #ai)
    * [การตั้งค่าการฝัง] (การตั้งค่า #embedding)
    * [การบูรณาการภายนอก (Notion & Airtable)](#external-integrations-notion--airtable)
    * [การซิงค์ข้อมูลและการฝัง] (#data-sync-and-embbedding)
3. [การใช้ AI Chat](#3-using-the-ai-chat)
4. [คุณสมบัติขั้นสูง] (#4-คุณสมบัติขั้นสูง)
    * [การรวมชั่วคราว](#templater-บูรณาการ)
    * [เครื่องกําเนิดไฟฟ้าพร้อมท์] (เครื่องกําเนิดไฟฟ้า #prompt)
    * [ตัวประมวลผลคําสั่งมาโคร (MCP)](#macro-command-processor-mcp)
    * [เครื่องมือที่กําหนดเอง](#custom-tools)
5. [การแก้ไขปัญหา] (#5-การแก้ไขปัญหา)
6. [คําถามที่พบบ่อย](#6-คําถามที่พบบ่อย)

## 1. การติดตั้ง

ในการติดตั้งปลั๊กอิน Obsidian AI ให้ทําตามขั้นตอนเหล่านี้:

1. **ดาวน์โหลดปลั๊กอิน:** ไปที่ [หน้ารุ่น](https://github.com/your-username/obsidian-ai-plugin/releases) บน GitHub และดาวน์โหลดไฟล์ '.zip' ล่าสุด
2. **แตกไฟล์:** คลายซิปไฟล์ที่ดาวน์โหลด คุณควรพบโฟลเดอร์ชื่อ 'obsidian-ai-plugin'
3. **วางในห้องนิรภัย:** ไปที่ไดเร็กทอรี '.obsidian/plugins' ของ Obsidian vault ของคุณ หากไม่มีโฟลเดอร์ 'plugins' ให้สร้างโฟลเดอร์นั้น
4. **คัดลอกโฟลเดอร์:** คัดลอกโฟลเดอร์ 'obsidian-ai-plugin' ลงในไดเร็กทอรี '.obsidian/plugins'
5. **เปิดใช้งานปลั๊กอิน:**
    * เปิดออบซิเดียน
    * ไปที่ 'การตั้งค่า' (ไอคอนรูปเฟืองที่ด้านล่างซ้าย)
    * ไปที่ 'ปลั๊กอินชุมชน'
    * ภายใต้ 'ปลั๊กอินที่ติดตั้ง' ให้ค้นหา "ปลั๊กอิน Obsidian AI" และเปิด

## 2. การตั้งค่าและการกําหนดค่าเริ่มต้น

หลังจากเปิดใช้งานปลั๊กอินแล้ว คุณจะต้องกําหนดค่า ไปที่ 'การตั้งค่า' -> 'ปลั๊กอิน Obsidian AI'

### การตั้งค่าโมเดล AI

ส่วนนี้ให้คุณเลือกโมเดลภาษาขนาดใหญ่ (LLM) ที่ปลั๊กอินจะใช้สําหรับการแชทและคุณสมบัติอื่นๆ ที่ขับเคลื่อนด้วย AI

* **รุ่นที่เลือก:** เลือกจากรายการรุ่นที่รองรับ (เช่น GPT-4o, Claude 3.5 Sonnet, Gemini 1.5 Pro) เลือกรุ่นที่เหมาะกับความต้องการและงบประมาณของคุณมากที่สุด
* **คีย์ API:** ป้อนคีย์ API ของคุณสําหรับผู้ให้บริการของโมเดลที่เลือก (OpenAI, Anthropic, Google) คีย์เหล่านี้จําเป็นสําหรับปลั๊กอินในการสื่อสารกับบริการ AI คีย์ API ของคุณจะถูกจัดเก็บไว้ในเครื่องและปลอดภัยภายในห้องนิรภัย Obsidian ของคุณ
    * **คีย์ OpenAI API:** 'sk-...'
    * **คีย์ API แอนมานุษยวิทยา:** 'sk-ant-...'
    * **คีย์ Google AI API:** 'AI...'

### การตั้งค่าการฝัง

การฝังเป็นการแสดงตัวเลขของข้อมูลข้อความของคุณ ซึ่งมีความสําคัญสําหรับคุณลักษณะ RAG (Retrieval-Augmented Generation) การตั้งค่าเหล่านี้ควบคุมวิธีการประมวลผลโน้ตและข้อมูลภายนอกของคุณในการฝัง

* **รูปแบบการฝัง:** เลือกรูปแบบการฝัง เราขอแนะนํา 'all-MiniLM-L6-v2' เพื่อความสมดุลของประสิทธิภาพและประสิทธิภาพ โดยเฉพาะอย่างยิ่งบนอุปกรณ์มือถือ โมเดลขนาดใหญ่ เช่น 'all-mpnet-base-v2' ให้ความแม่นยําสูงกว่า แต่ต้องใช้ทรัพยากรมากกว่า
* **ขนาดก้อน:** กําหนดจํานวนอักขระสูงสุดในแต่ละส่วนข้อความก่อนที่จะฝัง ขนาดก้อนที่ใหญ่ขึ้นหมายถึงบริบทต่อก้อนที่มากขึ้น แต่อาจลดความละเอียดของการดึงข้อมูล (ค่าเริ่มต้น: 500, ช่วง: 100-2000)
* **Chunk Overlap:** ระบุจํานวนอักขระที่ทับซ้อนกันระหว่างกลุ่มที่ต่อเนื่องกัน การทับซ้อนกันช่วยรักษาบริบทข้ามขอบเขตของกลุ่ม (ค่าเริ่มต้น: 50, ช่วง: 0-500)

### การตั้งค่า RAG

การตั้งค่าเหล่านี้จะปรับแต่งวิธีที่ระบบ RAG ดึงข้อมูลที่เกี่ยวข้องจากฐานความรู้ของคุณ

* **ส่วนที่ดึงมาสูงสุด:** จํานวนสูงสุดของส่วนข้อความที่เกี่ยวข้องที่ AI จะดึงข้อมูลจากฐานความรู้ของคุณเพื่อใช้เป็นบริบทสําหรับการตอบกลับ ส่วนที่มากขึ้นสามารถให้บริบทที่สมบูรณ์ยิ่งขึ้น แต่อาจเพิ่มเวลาในการประมวลผล (ค่าเริ่มต้น: 5, ช่วง: 1-20)
* **เกณฑ์ความคล้ายคลึงกัน:** คะแนนความคล้ายคลึงกันขั้นต่ําที่ดึงมาจะต้องได้รับการพิจารณาว่ามีความเกี่ยวข้อง เกณฑ์ที่สูงขึ้นหมายความว่าจะมีการดึงเฉพาะเนื้อหาที่คล้ายคลึงกันมากในขณะที่เกณฑ์ที่ต่ํากว่าจะรวมเนื้อหาที่ตรงกันที่กว้างขึ้น (ค่าเริ่มต้น: 0.7, ช่วง: 0.1-1.0)

### การตั้งค่า Azure AI Services

ปลั๊กอินรองรับการบูรณาการกับบริการ Azure AI เพื่อความปลอดภัยและประสิทธิภาพในระดับองค์กร:

* **Azure OpenAI Service:**
  * **API Key:** ป้อน Azure OpenAI API Key ของคุณจาก Azure Portal
  * **Endpoint:** URL ของ Azure OpenAI resource ของคุณ (รูปแบบ: https://{name}.openai.azure.com/)
  * **Deployment ID:** ชื่อของโมเดลที่ติดตั้ง (เช่น "gpt-4o" หรือชื่อที่กำหนดเอง)
  * **API Version:** เวอร์ชันของ Azure OpenAI API ที่ใช้ (เช่น "2023-12-01-preview")

* **Azure AI Search:**
  * **Admin Key:** คีย์การจัดการสำหรับบริการ Azure AI Search ของคุณ
  * **Service Endpoint:** URL ของบริการ Search (รูปแบบ: https://{name}.search.windows.net)
  * **Index Name:** ชื่อของดัชนีค้นหาที่ใช้สำหรับข้อมูลของคุณ
  * **Vector Configuration:** การตั้งค่าสำหรับการค้นหา vector รวมถึงมิติและอัลกอริทึม

* **Azure Cosmos DB:**
  * **Connection String:** การเชื่อมต่อแบบครบวงจรสำหรับบัญชี Cosmos DB ของคุณ
  * **Database ID:** ชื่อของฐานข้อมูลใน Cosmos DB ที่จะใช้
  * **Container Names:** ชื่อ containers สำหรับเก็บข้อมูล embeddings และประวัติการสนทนา

* **Azure AI Projects Agent:**
  * **API Key:** คีย์สำหรับบริการ Azure AI Projects
  * **Agent Configuration IDs:** รหัสสำหรับ agents ที่กำหนดค่าไว้

สำหรับคำแนะนำโดยละเอียดเกี่ยวกับการตั้งค่า Azure AI Services โปรดดู [AZURE_INTEGRATION_GUIDE.th.md](../AZURE_INTEGRATION_GUIDE.th.md)

### การบูรณาการภายนอก (Notion & Airtable)

เชื่อมต่อฐานข้อมูล Notion และฐาน Airtable ของคุณเพื่อรวมเนื้อหาไว้ในฐานความรู้ AI ของคุณ

* **โทเค็นการรวม Notion:** โทเค็นการรวม Notion ของคุณ (ขึ้นต้นด้วย 'secret_') ทําตามเอกสารประกอบของ Notion เพื่อสร้างการผสานรวมภายในและให้สิทธิ์การเข้าถึงฐานข้อมูลของคุณ
* **รหัสฐานข้อมูล Notion:** รายการรหัสฐานข้อมูล Notion ที่คั่นด้วยจุลภาคที่คุณต้องการซิงค์ คุณสามารถค้นหารหัสฐานข้อมูลได้ใน URL ของฐานข้อมูล Notion ของคุณ
* **คีย์ API Airtable:** โทเค็นการเข้าถึงส่วนบุคคล Airtable ของคุณ (ขึ้นต้นด้วย 'pat') สร้างหนึ่งในการตั้งค่าบัญชี Airtable ของคุณ
* **รหัสฐาน Airtable:** รายการรหัสฐาน Airtable ที่คั่นด้วยจุลภาคที่คุณต้องการซิงค์ คุณสามารถค้นหารหัสฐานได้ใน URL ของฐาน Airtable ของคุณ
* **ซิงค์อัตโนมัติ:** เปิดใช้งานเพื่อซิงค์ข้อมูลภายนอกโดยอัตโนมัติเป็นระยะๆ
* **ช่วงเวลาการซิงค์:** ตั้งค่าความถี่ (เป็นนาที) สําหรับการซิงโครไนซ์ข้อมูลอัตโนมัติ (ค่าเริ่มต้น: 60, ช่วง: 5-1440)

### การซิงค์ข้อมูลและการฝัง

หลังจากกําหนดค่าการผสานการทํางานแล้ว คุณต้องซิงค์ข้อมูลและสร้างการฝัง

* **ซิงค์ข้อมูลภายนอก:** คลิก "ซิงค์ทันที" เพื่อดึงข้อมูลล่าสุดด้วยตนเองจากฐานข้อมูล Notion ที่กําหนดค่าไว้และฐาน Airtable การดําเนินการนี้จะอัปเดตแคชภายในของปลั๊กอินของข้อมูลภายนอกของคุณ
* **สร้างการฝังใหม่:** คลิก "สร้างใหม่" เพื่อประมวลผลบันทึก Obsidian หน้า Notion และบันทึก Airtable ทั้งหมดของคุณใหม่เป็นการฝัง นี่เป็นสิ่งจําเป็นหลังจากมีการเปลี่ยนแปลงข้อมูลหรือการตั้งค่าการฝังที่สําคัญ **หมายเหตุ:** กระบวนการนี้อาจใช้เวลาสักครู่ขึ้นอยู่กับขนาดของฐานความรู้ของคุณ

## 3. การใช้ AI Chat

เมื่อต้องการเริ่มแชทกับฐานความรู้ของคุณ:

1. **เปิดมุมมองแชท AI:** คลิกไอคอนหุ่นยนต์ (🤖) ในแถบด้านข้างด้านซ้ายของ Obsidian การดําเนินการนี้จะเปิดแผงแชท AI
2. **พิมพ์คําถามของคุณ:** ป้อนคําถามหรือข้อความแจ้งในช่องป้อนข้อมูลที่ด้านล่างของแผงแชท
3. **ส่งข้อความ:** กด 'Enter' เพื่อส่งข้อความของคุณ ใช้ 'Shift + Enter' สําหรับบรรทัดใหม่
4. **ดูการตอบกลับ:** AI จะดําเนินการตามคําขอของคุณและตอบกลับ หากเปิดใช้งาน 'แสดงแหล่งที่มา' ในการตั้งค่า คุณจะเห็นแหล่งที่มาที่เกี่ยวข้องที่ AI ใช้ในการกําหนดคําตอบ

**คุณสมบัติการแชท:**

* **ล้างแชท:** คลิกไอคอนถังขยะ (🗑️) ในส่วนหัวเพื่อล้างประวัติการแชทปัจจุบัน
* **ซิงค์ข้อมูล:** คลิกไอคอนรีเฟรช (🔄) ในส่วนหัวเพื่อทริกเกอร์การซิงค์ข้อมูลด้วยตนเอง
* **การตั้งค่า:** คลิกไอคอนรูปเฟือง (⚙️) เพื่อเปิดแผงการตั้งค่าในแชทเพื่อปรับเปลี่ยนอย่างรวดเร็ว

## 4. คุณสมบัติขั้นสูง

### การบูรณาการกับ Azure AI Services

ObsidianMind Pro รองรับการเชื่อมต่อกับบริการ Azure AI ที่หลากหลายเพื่อเพิ่มประสิทธิภาพและความปลอดภัย:

#### Azure OpenAI Service
* ใช้โมเดล AI ของ Microsoft ที่มีความปลอดภัยและการรักษาความเป็นส่วนตัวในระดับองค์กร
* ปรับแต่งพารามิเตอร์โมเดลเพื่อควบคุมผลลัพธ์
* ดูการใช้งานและประสิทธิภาพผ่าน Azure Portal

#### Azure AI Search
* ค้นหาข้อมูลขนาดใหญ่ด้วย semantic search และ vector search
* ปรับแต่งการค้นหาด้วยตัวกรองและการจัดอันดับขั้นสูง
* รองรับหลายภาษาในการค้นหา

#### Azure AI Agent
* สร้างเอกสารอัตโนมัติด้วย AI
* เชื่อมโยงกับแหล่งข้อมูลภายนอก
* ปรับปรุงผลลัพธ์ด้วยการเรียนรู้และการปรับแต่ง

#### Azure Cosmos DB
* จัดเก็บ embeddings และประวัติการสนทนาในฐานข้อมูลที่ปลอดภัย
* ขยายขนาดได้สำหรับฐานความรู้ขนาดใหญ่
* สำรองข้อมูลและกู้คืนได้อย่างง่ายดาย


### การรวมTemplater

### การรวมชั่วคราว

หากคุณติดตั้งและเปิดใช้งาน [ปลั๊กอิน Templater](https://github.com/SilentVoid13/Templater) คุณสามารถเข้าถึงฟังก์ชัน AI ภายในเทมเพลตของคุณได้โดยตรง สิ่งนี้ช่วยให้สามารถสร้างเนื้อหาแบบไดนามิกและการดึงข้อมูลได้

หากต้องการใช้ฟังก์ชันเหล่านี้ ตรวจสอบให้แน่ใจว่าการตั้งค่า Templater ของคุณอนุญาตฟังก์ชันของผู้ใช้ จากนั้นคุณสามารถเรียกพวกเขาโดยใช้ 'tp.user.ai_function_name(...)`.

ฟังก์ชั่นที่ใช้ได้:

* 'tp.user.ai_chat(พรอมต์: สตริง)': ส่งข้อความแจ้งไปยังโมเดล AI ที่กําหนดค่าและส่งคืนการตอบสนอง
    '''ของเหลว
    <% tp.user.ai_chat("สรุปประเด็นสําคัญของบันทึกนี้: " + tp.file.content) %>
    ```
* 'tp.user.ai_search(query: string, maxResults?: number)': ค้นหาฐานความรู้ของคุณ (Obsidian, Notion, Airtable) สําหรับข้อมูลที่เกี่ยวข้องตามแบบสอบถาม และส่งคืนสตริงที่จัดรูปแบบของแหล่งที่มา 'maxResults' อันดับต้น ๆ
    '''ของเหลว
    <% tp.user.ai_search("ประโยชน์ของการทําซ้ําแบบเว้นวรรคคืออะไร", 3) %>
    ```
* 'tp.user.ai_summarize(content: string, maxLength?: number)': สรุป 'content' ที่ให้มาเป็นอักขระ 'maxLength' โดยประมาณ
    '''ของเหลว
    <% tp.user.ai_summarize(tp.file.content, 500) %>
    ```
* 'tp.user.ai_generate_content(topic: string, type?: string, length?: string)': สร้างเนื้อหาใน 'หัวข้อ' ที่กําหนด 'ประเภท' สามารถเป็น 'ย่อหน้า', 'เรียงความ', 'รายการ' ฯลฯ 'ความยาว' สามารถเป็น 'สั้น', 'ปานกลาง', 'ยาว'
    '''ของเหลว
    <% tp.user.ai_generate_content("ประวัติของ AI", "เรียงความ", "ยาว") %>
    ```
* 'tp.user.ai_extract_info(content: string, infoType: string)': แยก 'infoType' ที่เฉพาะเจาะจง (เช่น 'คีย์เวิร์ด', 'วันที่', 'ชื่อ') จาก 'เนื้อหา' ที่ให้มา
    '''ของเหลว
    <% tp.user.ai_extract_info(tp.file.content, "คําหลัก") %>
    ```

### ตัวสร้างพรอมต์

ตัวสร้างพรอมต์ช่วยให้คุณสร้างข้อความแจ้งที่มีประสิทธิภาพสําหรับงานต่างๆ ประกอบด้วยชุดเทมเพลตที่กําหนดไว้ล่วงหน้าและช่วยให้คุณสร้างเทมเพลตของคุณเองได้

* **การเข้าถึงเทมเพลต:** คุณสามารถเข้าถึงเทมเพลตพร้อมท์ผ่านคําสั่งจานคําสั่ง (เช่น 'Obsidian AI: สร้างพรอมต์')
* **การใช้เทมเพลต:** เลือกเทมเพลต กรอกตัวแปรที่จําเป็น และปลั๊กอินจะสร้างข้อความแจ้งที่ปรับให้เหมาะกับคุณ โดยเลือกที่จะรวมบริบท RAG เข้าด้วยกัน
* **เทมเพลตที่กําหนดเอง:** ในการตั้งค่าปลั๊กอิน คุณสามารถกําหนดเทมเพลตพร้อมท์ของคุณเองโดยใช้ตัวยึดตําแหน่ง เช่น '{{variable_name}}' เทมเพลตที่กําหนดเองเหล่านี้จะปรากฏควบคู่ไปกับเทมเพลตเริ่มต้น

### โปรเซสเซอร์คําสั่งมาโคร (MCP)

(เร็ว ๆ นี้: คําแนะนําโดยละเอียดสําหรับการสร้างและจัดการมาโครผ่านการกําหนดค่า UI หรือ JSON)

MCP ช่วยให้คุณสามารถทําให้ลําดับการกระทําที่ซับซ้อนเป็นไปโดยอัตโนมัติ โดยรวมการแชท AI การสร้างพรอมต์ และการใช้เครื่องมือ ตัวอย่างเช่น คุณสามารถสร้างแมโครที่:

1. สรุปโน้ตที่ใช้งานอยู่
2. สร้างชุดคําถามตามบทสรุป
3. ใช้ AI เพื่อตอบคําถามเหล่านั้นโดยค้นหาฐานความรู้ของคุณ
4. สร้างบันทึกใหม่พร้อมเนื้อหาสรุปและคําตอบ

### เครื่องมือที่กําหนดเอง

(เร็ว ๆ นี้: คําแนะนําโดยละเอียดสําหรับการเพิ่มเครื่องมือที่กําหนดเองผ่านการกําหนดค่า UI หรือ JSON)

ขยายความสามารถของปลั๊กอินโดยกําหนดเครื่องมือของคุณเอง เครื่องมือเหล่านี้อาจเป็นฟังก์ชันง่ายๆ ที่โต้ตอบกับ Obsidian หรือสามารถเรียก API ภายนอกก็ได้ เครื่องมือที่กําหนดเองถูกกําหนดโดยใช้โครงสร้าง JSON และสามารถเรียกใช้โดย AI หรือภายในคําสั่งมาโคร

## 5. แก้ไข ปัญหา

* **ปลั๊กอินไม่โหลด:** ตรวจสอบให้แน่ใจว่าโฟลเดอร์ 'obsidian-ai-plugin' อยู่ภายใน '.obsidian/plugins' โดยตรงและไม่ได้ซ้อนอยู่ในโฟลเดอร์อื่น
* **ข้อผิดพลาดของคีย์ API:** ตรวจสอบคีย์ API ของคุณอีกครั้งเพื่อหาการพิมพ์ผิด ตรวจสอบให้แน่ใจว่าพวกเขาได้รับอนุญาตที่จําเป็นจากผู้ให้บริการ AI ของคุณ
* **ปัญหาการฝัง:** หากผลลัพธ์ RAG ไม่ดี ให้ลองสร้างการฝังใหม่จากการตั้งค่า ตรวจสอบให้แน่ใจว่าการตั้งค่า 'chunkSize' และ 'chunkOverlap' เหมาะสมกับเนื้อหาของคุณ
* **ประสิทธิภาพ:** หากปลั๊กอินรู้สึกช้า โดยเฉพาะอย่างยิ่งระหว่างการฝัง ให้พิจารณาใช้โมเดลการฝังที่เล็กลง (เช่น 'all-MiniLM-L6-v2') หรือลดความถี่ของการซิงค์อัตโนมัติ

## 6. คำถามที่ถามบ่อย

* **ข้อมูลของฉันถูกส่งไปยังเซิร์ฟเวอร์ภายนอกหรือไม่**
    * บันทึกย่อและข้อมูลภายนอกของคุณจะถูกประมวลผลในเครื่องเพื่อฝัง เฉพาะข้อความที่คุณส่งไปยังโมเดล AI (ข้อความแชทและบริบทที่ดึงมา) เท่านั้นที่จะถูกส่งไปยังผู้ให้บริการ AI ที่เกี่ยวข้อง (OpenAI, Anthropic, Google)
* **ฉันสามารถใช้แบบออฟไลน์ได้หรือไม่**
    * คุณสมบัติการฝังและ RAG ทํางานแบบออฟไลน์เมื่อสร้างการฝัง อย่างไรก็ตาม ฟังก์ชันการแชท AI จําเป็นต้องมีการเชื่อมต่ออินเทอร์เน็ตเพื่อสื่อสารกับผู้ให้บริการ LLM
* **สามารถจัดการโน้ตได้กี่ตัว?**
    * ปลั๊กอินได้รับการออกแบบมาเพื่อจัดการกับฐานความรู้ขนาดใหญ่ ประสิทธิภาพขึ้นอยู่กับข้อมูลจําเพาะของอุปกรณ์และรูปแบบการฝังที่เลือก เราขอแนะนําให้ทดสอบกับระดับเสียงโน้ตทั่วไปของคุณ

หากคุณพบปัญหาใด ๆ ที่ไม่ได้กล่าวถึงที่นี่ โปรดรายงานใน [ที่เก็บ GitHub](https://github.com/your-username/obsidian-ai-plugin/issues)

