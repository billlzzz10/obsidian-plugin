# คู่มือการติดตั้งปลั๊กอิน Obsidian AI

## ข้อกําหนดเบื้องต้น

ก่อนติดตั้งปลั๊กอิน Obsidian AI ตรวจสอบให้แน่ใจว่าคุณมี:

1. **Obsidian** ติดตั้งบนอุปกรณ์ของคุณ (เดสก์ท็อปหรือมือถือ)
2. **คีย์ API** สําหรับผู้ให้บริการ AI อย่างน้อยหนึ่งราย:
   - OpenAI API Key (สําหรับโมเดล GPT)
   - คีย์ API แอนมานุษยวิทยา (สําหรับรุ่น Claude)
   - คีย์ Google AI API (สําหรับโมเดลราศีเมถิน)
3. **อุปกรณ์เสริม**: Notion Integration Token และ Airtable API Key สําหรับการรวมข้อมูลภายนอก

## วิธีการติดตั้ง

### วิธีที่ 1: การติดตั้งด้วยตนเอง (แนะนํา)

1. **ดาวน์โหลดปลั๊กอิน**
   - ดาวน์โหลดรุ่นล่าสุดจาก [หน้ารุ่นของ GitHub](https://github.com/your-username/obsidian-ai-plugin/releases)
   - แตกไฟล์ ZIP เพื่อรับโฟลเดอร์ 'ObsidianMind Pro'

2. **ติดตั้งใน Obsidian**
   - เปิดห้องนิรภัย Obsidian ของคุณ
   - ไปที่ไดเรกทอรี '.obsidian/plugins' ของห้องนิรภัย
     - บน Windows: '[Vault Path]\.obsidian\plugins'
     - ใน macOS: '[เส้นทางห้องนิรภัย]/.obsidian/plugins'
     - บน Linux: '[Vault Path]/.obsidian/plugins'
   - หากไม่มีโฟลเดอร์ 'plugins' ให้สร้าง
   - คัดลอกโฟลเดอร์ 'ObsidianMind Pro' ลงในไดเร็กทอรี 'plugins'
   - ตรวจสอบให้แน่ใจว่าโครงสร้างเป็น: [Vault Path]\.obsidian\plugins\ObsidianMind Pro\main.js

3. **เปิดใช้งานปลั๊กอิน**
   - เปิดออบซิเดียน (หรือรีสตาร์ทหากเปิดอยู่แล้ว)
   - ไปที่การตั้งค่า (⚙️) → ปลั๊กอินชุมชน → ปลั๊กอินที่ติดตั้ง
   - ค้นหา "ObsidianMind Pro" ในรายการปลั๊กอินที่ติดตั้ง
   - สลับเปิด

### วิธีที่ 2: การติดตั้งการพัฒนา

หากคุณต้องการสร้างจากแหล่งที่มา:

1. **โคลนที่เก็บ**
   '''ทุบตี
   https://github.com/your-username/obsidian-ai-plugin.git โคลน git
   ซีดี obsidian-ai-plugin
   ```

2. **ติดตั้งการพึ่งพา**
   '''ทุบตี
   ติดตั้ง npm
   ```

3. **สร้างปลั๊กอิน**
   '''ทุบตี
   npm เรียกใช้ build
   ```

4. **คัดลอกไปยัง Obsidian**
   - คัดลอกโฟลเดอร์ทั้งหมดไปยังไดเร็กทอรี '.obsidian/plugins' ของห้องนิรภัยของคุณ
   - เปิดใช้งานปลั๊กอินในการตั้งค่า Obsidian

## การกําหนดค่าเริ่มต้น

หลังการติดตั้ง คุณต้องกําหนดค่าปลั๊กอิน:

### 1. การตั้งค่าโมเดล AI ขั้นพื้นฐาน

1. เปิดการตั้งค่า Obsidian →ปลั๊กอิน Obsidian AI
2. ในส่วน "การตั้งค่าโมเดล AI":
   - เลือกโมเดล AI ที่คุณต้องการจากเมนูแบบเลื่อนลง
   - ป้อนคีย์ API ที่สอดคล้องกัน:
     - **OpenAI**: ป้อนคีย์ API ของคุณ (ขึ้นต้นด้วย 'sk-')
     - **Anthropic**: ป้อนคีย์ API ของคุณ (ขึ้นต้นด้วย 'sk-ant-')
     - **Google**: ป้อนคีย์ API ของคุณ (ขึ้นต้นด้วย 'AI')

### 2. การกําหนดค่าการฝัง

1. ในส่วน "การตั้งค่าการฝัง":
   - **รูปแบบการฝัง**: เลือก 'all-MiniLM-L6-v2' เพื่อประสิทธิภาพสูงสุดบนอุปกรณ์มือถือ
   - **ขนาดก้อน**: เริ่มต้นด้วยอักขระ 500 ตัว (ปรับตามเนื้อหาของคุณ)
   - **Chunk Overlap**: ใช้ 50 อักขระเพื่อการเก็บรักษาบริบทที่ดี

### 3. การตั้งค่า RAG

1. กําหนดการตั้งค่าการดึงข้อมูล:
   - **Max Retrieved Chunks**: เริ่มต้นด้วย 5 (เพิ่มเพื่อบริบทเพิ่มเติม)
   - **เกณฑ์ความคล้ายคลึงกัน**: ใช้ 0.7 (ต่ํากว่าสําหรับการจับคู่ที่กว้างขึ้น สูงขึ้นสําหรับการจับคู่ที่แม่นยํา)

### 4. การผสานรวมภายนอก (ไม่บังคับ)

#### การตั้งค่าความคิด
1. สร้างการรวม Concept:
   - ไปที่ https://www.notion.so/my-integrations
   - คลิก "การผสานรวมใหม่"
   - ตั้งชื่อว่า "ปลั๊กอิน Obsidian AI"
   - คัดลอกโทเค็นการผสานรวม
2. แชร์ฐานข้อมูลกับการผสานรวมของคุณ:
   - เปิดแต่ละฐานข้อมูลที่คุณต้องการซิงค์
   - คลิก "แชร์" → "เชิญ" → เลือกการผสานรวมของคุณ
3. ในการตั้งค่าปลั๊กอิน:
   - วางโทเค็นการรวม
   - เพิ่มรหัสฐานข้อมูล (พบใน URL ของฐานข้อมูล)

#### การตั้งค่าตารางอากาศ
1. สร้างโทเค็นการเข้าถึงส่วนบุคคล:
   - ไปที่ https://airtable.com/create/tokens
   - สร้างโทเค็นใหม่ด้วยขอบเขต 'data.records:read' และ 'schema.bases:read'
   - เพิ่มฐานที่คุณต้องการเข้าถึง
2. ในการตั้งค่าปลั๊กอิน:
   - วางโทเค็น
   - เพิ่มรหัสพื้นฐาน (พบใน URL พื้นฐาน)

#### การตั้งค่า Azure AI Services
1. **Azure OpenAI Service**:
   - สร้างทรัพยากร Azure OpenAI ใน [Azure Portal](https://portal.azure.com)
   - ติดตั้งโมเดล AI ใน Azure OpenAI Studio
   - ในการตั้งค่าปลั๊กอิน ป้อน:
     - Azure OpenAI API Key
     - Azure OpenAI Endpoint
     - Azure OpenAI Deployment ID (ชื่อของโมเดลที่ติดตั้ง)
     - Azure OpenAI API Version

2. **Azure AI Search**:
   - สร้างทรัพยากร Azure AI Search
   - สร้าง index และตั้งค่า vector fields
   - ในการตั้งค่าปลั๊กอิน ป้อน:
     - Azure AI Search Admin Key
     - Azure AI Search Service Endpoint
     - Azure AI Search Index Name

3. **Azure Cosmos DB**:
   - สร้าง Azure Cosmos DB account
   - สร้าง database และ containers
   - ในการตั้งค่าปลั๊กอิน ป้อน:
     - Azure Cosmos DB Connection String
     - Database ID
     - Container Names

4. **Azure AI Projects Agent**:
   - ตั้งค่าบริการ Azure AI Projects
   - ในการตั้งค่าปลั๊กอิน ป้อน:
     - Azure AI Projects API Key
     - Agent Configuration IDs

สำหรับข้อมูลเพิ่มเติมเกี่ยวกับการตั้งค่าบริการ Azure โปรดดู [AZURE_INTEGRATION_GUIDE.th.md](AZURE_INTEGRATION_GUIDE.th.md)

### 5. การประมวลผลข้อมูลเบื้องต้น

1. **ซิงค์ข้อมูลภายนอก** (หากกําหนดค่าไว้):
   - คลิก "ซิงค์ทันที" ในส่วนการผสานรวมภายนอก
   - รอให้การซิงค์เสร็จสมบูรณ์

2. **สร้างการฝัง**:
   - คลิก "สร้างใหม่" ในส่วนการซิงค์ข้อมูล
   - การดําเนินการนี้จะประมวลผลบันทึกและข้อมูลภายนอกทั้งหมดของคุณ
   - **หมายเหตุ**: การดําเนินการนี้อาจใช้เวลาหลายนาทีขึ้นอยู่กับขนาดข้อมูลของคุณ

## ขั้นตอนแก้ไขปัญหาการติดตั้ง

หากคุณประสบปัญหาในการติดตั้งหรือการทำงานของปลั๊กอิน โปรดทำตามขั้นตอนต่อไปนี้:

1. **การติดตั้งที่ถูกต้อง**:
   - ตรวจสอบให้แน่ใจว่าคุณได้ติดตั้งปลั๊กอินในโฟลเดอร์ที่ถูกต้อง: `.obsidian/plugins/ObsidianMind Pro/`
   - โครงสร้างไดเรกทอรีควรเป็น: `.obsidian/plugins/ObsidianMind Pro/main.js` และ `.obsidian/plugins/ObsidianMind Pro/manifest.json`

2. **แก้ไขความขัดแย้งชื่อ ID**:
   - เปิดไฟล์ `manifest.json` 
   - ตรวจสอบค่า "id" ในไฟล์ (ควรเป็น "obsidianmind-pro")
   - หากไม่ตรงกับโฟลเดอร์ ให้แก้ไขเป็น `"id": "obsidianmind-pro"`
   - บันทึกไฟล์และรีสตาร์ท Obsidian

3. **รีสตาร์ท Obsidian**:
   - ปิด Obsidian สมบูรณ์แล้วเปิดใหม่ (ไม่ใช่แค่รีโหลด)
   - ตรวจสอบว่าปลั๊กอินปรากฏในการตั้งค่า → ปลั๊กอินที่ติดตั้ง

4. **ตรวจสอบข้อผิดพลาด**:
   - หากปลั๊กอินยังไม่ทำงาน เปิด Developer Console (Ctrl+Shift+I)
   - ค้นหาข้อความข้อผิดพลาดที่เกี่ยวข้องกับ "ObsidianMind Pro"
   - ข้อความข้อผิดพลาดอาจช่วยระบุปัญหาเฉพาะได้

## การแก้ไขปัญหา

### ปัญหาทั่วไป

1. **ปลั๊กอินไม่โหลดหรือไม่เชื่อมต่อกับ Obsidian**
   - ตรวจสอบให้แน่ใจว่าโฟลเดอร์มีชื่อว่า 'ObsidianMind Pro' (ชื่อต้องตรงกันพอดี)
   - ตรวจสอบว่าไฟล์ทั้งหมดอยู่ในโครงสร้างไดเร็กทอรีที่ถูกต้อง โดยเฉพาะไฟล์ main.js และ manifest.json
   - รีสตาร์ท Obsidian หลังการติดตั้ง
   - ตรวจสอบว่า Obsidian เวอร์ชันที่ใช้รองรับปลั๊กอิน (เวอร์ชัน 1.0.0 หรือใหม่กว่า)
   - ลองปิดใช้งานปลั๊กอินอื่นๆ ชั่วคราวเพื่อตรวจสอบการขัดแย้ง

2. **ข้อผิดพลาดของคีย์ API**
   - ตรวจสอบว่าคีย์ API ถูกต้องและมีสิทธิ์ที่เหมาะสม
   - ตรวจสอบขีดจํากัดการใช้งาน API และสถานะการเรียกเก็บเงินของคุณ
   - ตรวจสอบว่าไม่มีช่องว่างเพิ่มเติมในคีย์ API

## การตรวจสอบการติดตั้ง

เมื่อต้องการตรวจสอบว่าการติดตั้งทํางานอยู่:

1. **เปิด AI Chat**:
   - คลิกไอคอนหุ่นยนต์ (🤖) ในแถบด้านข้างด้านซ้าย
   - หรือใช้จานคําสั่ง: "เปิดแชท AI"

2. **ทดสอบฟังก์ชันพื้นฐาน**:
   - พิมพ์คําถามง่ายๆ เกี่ยวกับโน้ตของคุณ
   - คุณควรได้รับการตอบกลับจากแหล่งที่เกี่ยวข้อง

3. **ตรวจสอบการตั้งค่า**:
   - ตรวจสอบให้แน่ใจว่าคีย์ API ทั้งหมดได้รับการกําหนดค่าอย่างถูกต้อง
   - ตรวจสอบว่าโหลดโมเดลการฝังแล้ว (ตรวจสอบคอนโซลเพื่อหาข้อผิดพลาด)

### การแก้ไขปัญหาการเชื่อมต่อกับ Obsidian

ถ้าปลั๊กอินไม่สามารถเชื่อมต่อกับ Obsidian ได้ ให้ลองวิธีต่อไปนี้:

1. **แก้ไขความขัดแย้งระหว่าง ID และชื่อโฟลเดอร์**:
   - ตรวจสอบไฟล์ manifest.json และดูค่า "id"
   - ตรวจสอบให้แน่ใจว่าชื่อโฟลเดอร์ปลั๊กอินตรงกับค่า "id" ในไฟล์ manifest.json
   - ถ้า "id" เป็น "obsidian-ai-plugin" แต่ชื่อโฟลเดอร์เป็น "ObsidianMind Pro" ให้แก้ไขอย่างใดอย่างหนึ่ง:
     - เปลี่ยนชื่อโฟลเดอร์เป็น "obsidian-ai-plugin" หรือ
     - แก้ไขค่า "id" ใน manifest.json เป็น "obsidianmind-pro"

2. **ตรวจสอบเวอร์ชันความเข้ากันได้**:
   - ตรวจสอบค่า "minAppVersion" ในไฟล์ manifest.json
   - ตรวจสอบว่าเวอร์ชัน Obsidian ของคุณเท่ากับหรือใหม่กว่าค่า "minAppVersion"
   - อัพเดท Obsidian ให้เป็นเวอร์ชันล่าสุดหากจำเป็น

3. **ตรวจสอบไฟล์หลัก**:
   - ตรวจสอบว่ามีไฟล์ main.js อยู่ในโฟลเดอร์ปลั๊กอิน
   - หากไม่มี ให้ดาวน์โหลดปลั๊กอินใหม่และติดตั้งอีกครั้ง

4. **ติดตั้งปลั๊กอินใหม่**:
   - ลบโฟลเดอร์ปลั๊กอินออกจาก .obsidian/plugins/
   - รีสตาร์ท Obsidian
   - ดาวน์โหลดและติดตั้งปลั๊กอินใหม่ตามขั้นตอนด้านบน

5. **ตรวจสอบบันทึก Console**:
   - เปิด Developer Console ใน Obsidian (Ctrl+Shift+I หรือ Cmd+Option+I บน Mac)
   - ดูข้อความข้อผิดพลาดเกี่ยวกับปลั๊กอิน
   - ข้อความข้อผิดพลาดอาจบ่งชี้ถึงปัญหาเฉพาะที่ต้องแก้ไข

6. **ตรวจสอบการอนุญาตไฟล์**:
   - ในบางระบบ (โดยเฉพาะ Linux/macOS) ตรวจสอบสิทธิ์การเข้าถึงไฟล์
   - ตรวจสอบว่าผู้ใช้มีสิทธิ์อ่าน/เขียนในไฟล์ปลั๊กอิน

3. **ปัญหาการฝัง**
   - ตรวจสอบคอนโซลเบราว์เซอร์เพื่อหาข้อความแสดงข้อผิดพลาด
   - ลองใช้โมเดลการฝังที่เล็กกว่าหากอยู่ในมือถือ
   - ตรวจสอบให้แน่ใจว่ามีหน่วยความจําอุปกรณ์เพียงพอ

4. **ปัญหาด้านประสิทธิภาพ**
   - ลดขนาดก้อนเพื่อการประมวลผลที่รวดเร็วขึ้น
   - ใช้แบบจําลองการฝังที่เบากว่า ('all-MiniLM-L6-v2')
   - เพิ่มช่วงเวลาการซิงค์สําหรับข้อมูลภายนอก

### การขอความช่วยเหลือ

หากพบปัญหา ให้ทําดังนี้

1. ตรวจสอบ [คู่มือผู้ใช้](USER_MANUAL.md) สําหรับคําแนะนําการใช้งานโดยละเอียด
2. ตรวจสอบ [ตัวอย่าง](EXAMPLES.md) สําหรับกรณีการใช้งานทั่วไป
3. รายงานข้อบกพร่องใน [หน้าปัญหา GitHub](https://github.com/your-username/obsidian-ai-plugin/issues)

## ความต้องการของระบบ

### ข้อกําหนดขั้นต่ํา
- **เดสก์ท็อป**: RAM 4GB, เอ็นจิ้นเบราว์เซอร์ที่ทันสมัย
- **มือถือ**: RAM 3GB, iOS/Android เวอร์ชั่นล่าสุด
- **พื้นที่เก็บข้อมูล**: พื้นที่ว่าง 100MB สําหรับรุ่นและแคช

### ข้อกําหนดที่แนะนํา
- **เดสก์ท็อป**: RAM 8GB+ สําหรับฐานความรู้ขนาดใหญ่
- **มือถือ**: RAM 4GB+ เพื่อประสิทธิภาพที่ราบรื่น
- **พื้นที่เก็บข้อมูล**: 500MB+ สําหรับโมเดลการฝังหลายรุ่น

## หมายเหตุด้านความปลอดภัย

- คีย์ API จะถูกเก็บไว้ในห้องนิรภัย Obsidian ของคุณ
- การประมวลผลการฝังเกิดขึ้นในอุปกรณ์
- เฉพาะข้อความแชทและบริบทที่ดึงมาเท่านั้นที่จะถูกส่งไปยังผู้ให้บริการ AI
- ไม่มีการส่งข้อมูลส่วนบุคคลในระหว่างการสร้างการฝัง

## อัพเดท

วิธีอัปเดตปลั๊กอิน:

1. ดาวน์โหลดรุ่นล่าสุด
2. แทนที่โฟลเดอร์ปลั๊กอินเก่าด้วยโฟลเดอร์ใหม่
3. รีสตาร์ทออบซิเดียน
4. ตรวจสอบการตั้งค่าสําหรับตัวเลือกการกําหนดค่าใหม่

ปลั๊กอินจะย้ายการตั้งค่าของคุณไปยังเวอร์ชันใหม่โดยอัตโนมัติเมื่อเป็นไปได้

